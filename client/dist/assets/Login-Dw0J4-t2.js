import{a as d,r as i,j as e}from"./index-CvURrcG5.js";import{l as g}from"./authAPI-GxJFeanu.js";import{useNavigate as p,Link as h}from"react-router-dom";function v(){const l=p(),{login:c}=d(),[a,m]=i.useState({email:"",password:""}),[t,n]=i.useState(""),o=r=>{m({...a,[r.target.name]:r.target.value}),n("")},u=async r=>{r.preventDefault();try{const s=await g(a);localStorage.setItem("userInfo",JSON.stringify(s)),c(),l("/")}catch(s){n(s.response?.data?.message||"Login failed")}};return e.jsx("div",{className:"login-container",children:e.jsxs("form",{className:"login-form",onSubmit:u,children:[e.jsx("h2",{children:"Login"}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:a.email,onChange:o,required:!0}),e.jsx("input",{type:"password",name:"password",placeholder:"Enter your password",value:a.password,onChange:o,required:!0}),t&&e.jsx("p",{className:"error",children:t}),e.jsx("button",{type:"submit",children:"Login"}),e.jsxs("p",{className:"register-link",children:["Donâ€™t have an account? ",e.jsx(h,{to:"/register",children:"Register"})]})]})})}export{v as default};
