import{a as d,b as g,r as i,j as e,L as p}from"./index-Da6-ETfa.js";import{l as h}from"./authAPI-BGTr5B95.js";function j(){const l=d(),{login:c}=g(),[a,m]=i.useState({email:"",password:""}),[t,n]=i.useState(""),o=s=>{m({...a,[s.target.name]:s.target.value}),n("")},u=async s=>{s.preventDefault();try{const r=await h(a);localStorage.setItem("userInfo",JSON.stringify(r)),c(),l("/")}catch(r){n(r.response?.data?.message||"Login failed")}};return e.jsx("div",{className:"login-container",children:e.jsxs("form",{className:"login-form",onSubmit:u,children:[e.jsx("h2",{children:"Login"}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:a.email,onChange:o,required:!0}),e.jsx("input",{type:"password",name:"password",placeholder:"Enter your password",value:a.password,onChange:o,required:!0}),t&&e.jsx("p",{className:"error",children:t}),e.jsx("button",{type:"submit",children:"Login"}),e.jsxs("p",{className:"register-link",children:["Donâ€™t have an account? ",e.jsx(p,{to:"/register",children:"Register"})]})]})})}export{j as default};
